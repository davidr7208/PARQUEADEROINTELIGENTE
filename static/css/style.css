/* static/css/style.css - C√ìDIGO COMPLETO Y CORREGIDO */

:root {
    /* Paleta de Colores Corporativa */
    --color-primary: #1f3a93; /* Azul Oscuro (T√≠tulo, Enfasis) */
    --color-secondary: #007bff; /* Azul de Acci√≥n (Botones Primarios) */
    --color-accent: #e9d311; /* Amarillo de Alerta/Configuraci√≥n */
    --color-success: #28a745; /* Verde (Libre) */
    --color-danger: #dc3545; /* Rojo (Ocupado, Cancelar) */
    --color-warning: #ff9800; /* Naranja (Pendiente) */
    --color-text-dark: #333;
    --color-text-light: #fff;
    --color-bg-light: #f8f9fa; /* Fondo general de los paneles */
    --color-border: #dee2e6;
    
    /* Variables de Sombra */
    --shadow-default: 0 4px 12px rgba(0,0,0,0.08);
    --shadow-hover: 0 6px 16px rgba(0,0,0,0.1);
}

body {
    font-family: 'Inter', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; /* Fuente m√°s moderna */
    padding: 0; 
    margin: 0; /* Asegurar que no haya m√°rgenes */
    color: var(--color-text-dark);
    
    /* -------------------------------------------------------- */
    /* --- C√ìDIGO NUEVO PARA EL FONDO DE IMAGEN --- */
    /* Nota: '..' asume que css/style.css y img/Fondo_parqueadero.jpg son hermanos de carpeta */
    background-image: url('../img/Fondo_parqueadero.jpg'); 
    background-size: cover;          /* Asegura que la imagen cubra todo el fondo */
    background-repeat: no-repeat;    /* Evita que la imagen se repita */
    background-attachment: fixed;    /* Mantiene la imagen fija al hacer scroll */
    background-color: #333;          /* Color de fallback si la imagen no carga */
    /* -------------------------------------------------------- */
}

/* üÜï CONTENEDOR PRINCIPAL para limitar el ancho y centralizar */
.container {
    max-width: 1400px; /* Aumentamos ligeramente para m√°s espacio */
    margin: 20px auto; 
    padding: 0;
    /* El fondo del container debe ser casi opaco para contrastar con la imagen de fondo */
    background-color: rgba(255, 255, 255, 0.6); 
    border-radius: 12px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.15); /* Sombra m√°s pronunciada y profesional */
    overflow: hidden; /* Para que el contenido respete el border-radius */
}

/* ---------------------------------------------------------------- */
/* üîë ENCABEZADOS UNIFICADOS (Dashboard y Historial)              */
/* ---------------------------------------------------------------- */
header, 
.historial-header {
    /* Fondo Degradado de Amarillo Suave */
    background-image: linear-gradient(to right, 
        rgba(248, 234, 77, 0.9) 0%, /* Amarillo muy suave */
        #e4e139 50%, 
        #f5d20e 100%); 
    background-color: #e3ec93; /* Fallback */
    
    /* Propiedades Flexbox y de dise√±o comunes */
    display: flex;
    justify-content: space-between;
    align-items: center; 
    /* ‚úÖ CORRECCI√ìN: Padding vertical reducido a 10px para hacerlo compacto */
    padding: 10px 30px; 
    border-bottom: 1px solid var(--color-border);
}


/* ---------------------------------------------------------------- */
/* ‚û°Ô∏è Estilos Espec√≠ficos del Dashboard y sus componentes          */
/* ---------------------------------------------------------------- */
.header-left {
    display: flex;
    align-items: center;
    gap: 20px; /* Espaciado con variable */
    flex-shrink: 0; 
    flex-grow: 1; /* Permite que el contenedor del logo y t√≠tulo se expanda */
}
.app-logo {
    /* ‚úÖ MODIFICACI√ìN CLAVE: Aumenta el tama√±o del logo, forzando desborde/recorte */
    height: 200px; 
    margin-right: 0;
    flex-shrink: 0; /* Evita que el logo se encoja */
}

h1 {
    color: var(--color-primary); 
    font-size: 2.2em; 
    margin: 0; 
    font-weight: 700;
    text-align: center; /* Centrar el texto dentro del elemento */
    flex-grow: 1; /* Permite que el t√≠tulo ocupe el espacio central */
}

/* üÜï NUEVO CONTENEDOR PARA ALINEACI√ìN VERTICAL (DERECHA) */
#header-right-controls {
    display: flex;
    flex-direction: column; 
    align-items: flex-end; 
    gap: 10px; 
    margin-left: 20px; 
    flex-shrink: 0;
}

/* ---------------------------------------------------------------- */
/* ‚û°Ô∏è Estilos Espec√≠ficos del Historial y sus componentes          */
/* ---------------------------------------------------------------- */
/* El h1 del historial necesita flex-grow y text-align: center 
    para centrarse entre el logo y el bot√≥n. */
.historial-header .app-logo {
    flex-shrink: 0;
}
.historial-header h1 {
    flex-grow: 1; 
    text-align: center; 
    margin: 0;
    font-size: 2.2em;
}
.btn-dashboard {
    background-color: var(--color-primary); 
    color: white;
    padding: 10px 20px;
    border-radius: 6px;
    font-size: 1em;
    font-weight: 600;
    transition: background-color 0.3s ease;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.15);
    flex-shrink: 0; 
}
.btn-dashboard:hover {
    background-color: #142a6c;
}


/* ---------------------------------------------------- */
/* üÜï NUEVO ESTILO: Contenedor para la fila Tarifas/B√∫squeda */
/* ---------------------------------------------------- */
.controles-inferiores {
    display: flex; 
    justify-content: space-between; 
    align-items: center; 
    padding: 15px 30px;
    background-color: #e9ecef; /* Fondo sutil para la barra de control */
    border-bottom: 1px solid var(--color-border);
}

/* üÜï ESTILOS PARA LA BARRA DE B√öSQUEDA */
#search-bar-container {
    display: flex;
    align-items: center;
    gap: 8px; 
    width: 400px; /* Aumentamos el ancho */
    flex-shrink: 0;
}

#search-bar-container input[type="text"] {
    flex-grow: 1; 
    padding: 10px 12px; 
    border: 1px solid var(--color-border);
    border-radius: 6px;
    font-size: 1em; 
    min-width: 0; 
    transition: border-color 0.2s, box-shadow 0.2s;
}
#search-bar-container input[type="text"]:focus {
    border-color: var(--color-secondary);
    box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);
    outline: none;
}

#search-bar-container .btn-primary,
#search-bar-container .btn-secondary {
    padding: 10px 15px; 
    font-size: 0.9em;
    width: auto; /* Dejamos que el contenido defina el ancho */
    min-width: 80px;
}

/* FIN ESTILOS BARRA DE B√öSQUEDA */

/* --- PANEL DE DETALLES DE COBRO --- */
.panel {
    border: 1px solid var(--color-border);
    padding: 25px;
    border-radius: 8px;
    background-color: var(--color-bg-light); 
    box-shadow: var(--shadow-default); 
    margin: 20px 30px; /* Margen horizontal aumentado */
}
.panel h2 {
    color: var(--color-primary);
    border-bottom: 2px solid #eee;
    padding-bottom: 10px;
    margin-top: 0;
    margin-bottom: 15px;
    font-size: 1.5em;
}

/* --- GRID Y CUB√çCULOS (Layout de dos filas) --- */

#parqueadero-grid {
    margin: 20px 30px; 
    padding-bottom: 20px;
    border-bottom: 1px solid #eee;
}

.cubiculo-group-section {
    margin-bottom: 30px; 
}

.cubiculo-group-section h2 {
    color: var(--color-primary);
    border-bottom: 2px solid var(--color-primary);
    padding-bottom: 5px;
    margin-top: 0;
    margin-bottom: 20px;
    font-size: 1.8em;
}

.cubiculo-row {
    display: flex;
    flex-wrap: wrap; 
    gap: 18px; /* Espaciado ligero */
    justify-content: flex-start; /* Alinea a la izquierda */
}


.cubiculo {
    width: 120px; /* Ligeramente m√°s ancho */
    height: 110px; /* Ligeramente m√°s alto */
    border: 3px solid; /* Borde m√°s grueso para impacto */
    display: flex;
    flex-direction: column;
    justify-content: center; 
    align-items: center;
    cursor: pointer;
    transition: all 0.2s ease;
    border-radius: 10px; 
    font-weight: bold;
    user-select: none;
    line-height: 1.3;
    padding: 8px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1); /* Sombra sutil por defecto */
}

.cubiculo.selected {
    box-shadow: 0 0 12px 4px var(--color-secondary); 
    transform: scale(1.05);
}

.cubiculo:hover {
    box-shadow: var(--shadow-hover);
    transform: translateY(-2px);
}

.cubiculo strong {
    font-size: 1.5em; 
    margin-bottom: 0;
}

.cubiculo p {
    margin: 0;
    font-size: 0.9em;
    font-weight: 600;
    color: inherit;
}

.cubiculo span.placa {
    font-size: 0.85em;
    font-weight: normal;
    color: #555;
    margin-top: 5px;
    font-style: italic;
}

/* Colores de Estado - Usando variables */
.cubiculo.libre {
    background-color: #e6f5e9; /* Fondo muy claro */
    border-color: var(--color-success); 
    color: #1e7e34;
}
.cubiculo.ocupado {
    background-color: #fceceb; 
    border-color: var(--color-danger); 
    color: #c0392b;
}
.cubiculo.pendiente {
    background-color: #fff3e0; 
    border-color: var(--color-warning);
    color: #8d6e63; /* Color oscuro para legibilidad */
}
.cubiculo.pendiente strong, .cubiculo.pendiente p, .cubiculo.pendiente span.placa {
    color: #333; /* Forzar color oscuro en texto para contraste */
}

/* Iconos SVG */
.cubiculo-icon {
    width: 35px; /* Ligeramente m√°s peque√±o */
    height: 35px;
    margin-bottom: 5px;
}


/* --- ESTILOS DE BOTONES (General) --- */

/* Bot√≥n Historial (Azul) */
.btn-historial {
    margin-left: auto;
    background-color: var(--color-primary); 
    color: var(--color-text-light);
    padding: 10px 20px;
    border-radius: 6px;
    font-size: 1em;
    font-weight: 600;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.15);
}
.btn-historial:hover {
    background-color: #142a6c; 
    transform: translateY(-1px);
}

/* Botones gen√©ricos (Azul de Acci√≥n) */
button {
    padding: 10px 18px;
    border-radius: 6px;
    font-weight: 600;
    cursor: pointer;
    margin: 5px 5px 5px 0; 
    transition: background-color 0.2s, transform 0.1s;
    background-color: var(--color-secondary); 
    color: var(--color-text-light);
    border: none;
    box-shadow: 0 2px 5px rgba(0, 123, 255, 0.2);
}
button:hover {
    background-color: #0056b3; 
    transform: translateY(-1px);
}
button:active {
    transform: translateY(0);
}

/* Bot√≥n de Configuraci√≥n (Amarillo de Acento) */
.btn-config {
    background-color: var(--color-accent);
    color: var(--color-text-dark); /* Texto oscuro para contraste */
    box-shadow: 0 2px 5px rgba(233, 211, 17, 0.4);
    font-weight: 700;
    margin-left: 0;
}
.btn-config:hover {
    background-color: #b3a20c;
    color: var(--color-text-light);
}

/* Botones Finalizar Cobro/Imprimir (Cyan - Usando un color m√°s profesional) */
#botones-accion-container button {
    background-color: #00bcd4; /* Cyan m√°s elegante */
    color: white;
    box-shadow: 0 2px 4px rgba(0, 188, 212, 0.4);
}
#botones-accion-container button:hover {
    background-color: #0097a7;
}

/* Bot√≥n de Cancelaci√≥n (Rojo) */
#botones-accion-container button.btn-cancelar {
    background-color: var(--color-danger); 
    box-shadow: 0 2px 4px rgba(220, 53, 69, 0.4);
}
#botones-accion-container button.btn-cancelar:hover {
    background-color: #c82333;
}


/* Bot√≥n Editar Placa (discreto) */
.btn-editar-placa {
    background: none;
    color: var(--color-secondary);
    border: 1px solid var(--color-secondary);
    padding: 3px 8px;
    font-size: 0.8em;
    margin-left: 8px;
    box-shadow: none;
    border-radius: 4px;
    margin-top: 0;
    margin-bottom: 0;
}
.btn-editar-placa:hover {
    background-color: #e6f0ff;
    transform: none;
}

/* Bot√≥n Cerrar en el modal (la 'X') */
.btn-cerrar-config {
    background: none; 
    color: #495057; 
    border: none;
    position: absolute;
    top: 5px; 
    right: 5px;
    padding: 5px 10px;
    font-size: 1.5em; 
    line-height: 1; 
    font-weight: 300;
    margin: 0;
    box-shadow: none;
}
.btn-cerrar-config:hover {
    background-color: #f8f9fa; 
    color: #000;
}


/* --- ESTILOS DE MODAL (VENTANAS) --- */
.modal-backdrop {
    position: fixed; 
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.6); 
    display: none; 
    justify-content: center;
    align-items: center;
    z-index: 1000; 
}
.modal-content {
    background-color: white;
    padding: 30px;
    border-radius: 12px; /* M√°s redondeado */
    box-shadow: 0 15px 35px rgba(0, 0, 0, 0.4); /* Sombra m√°s fuerte para flotar */
    max-width: 650px; /* Un poco m√°s de espacio */
    width: 90%;
    position: relative;
}
.modal-content h3 {
    color: var(--color-primary);
    border-bottom: 2px solid var(--color-border);
    padding-bottom: 10px;
    margin-bottom: 20px;
}


.tarifa-block h3 {
    color: var(--color-primary);
    margin-top: 15px;
    margin-bottom: 10px;
    padding-bottom: 5px;
    border-bottom: 1px dashed var(--color-border);
    width: 100%; 
}

.tarifa-block {
    display: flex; 
    align-items: center; 
    flex-wrap: wrap; 
    gap: 15px; 
    margin-bottom: 15px;
}

.tarifa-block label {
    font-weight: 600; /* Negrita para etiquetas */
    color: var(--color-text-dark);
    margin-right: 5px;
}

.tarifa-block input[type="number"] {
    padding: 10px;
    border: 1px solid var(--color-border);
    border-radius: 6px;
    width: 100px; /* M√°s ancho para ingresar */
    margin: 0;
}


/* --- ESTILOS PARA HISTORIAL --- */

/* Contenedor de filtros */
.filtro-container { 
    margin: 20px 30px; /* Ajustamos al margen del container */
    padding: 20px; 
    border: 1px solid var(--color-border); 
    border-radius: 8px; 
    display: flex; 
    gap: 25px; /* M√°s espacio entre elementos */
    align-items: center; 
    background-color: var(--color-bg-light);
    box-shadow: var(--shadow-default);
}
.filtro-container h2 {
    font-size: 1.2em;
    color: var(--color-primary);
    margin: 0;
    flex-shrink: 0;
}
.filtro-container label {
    font-weight: 600;
}
.filtro-container input[type="date"],
.filtro-container input[type="text"] {
    padding: 8px 10px;
    border: 1px solid var(--color-border);
    border-radius: 4px;
}

.filtro-container button { 
    background-color: var(--color-success); /* Verde (Aplicar Filtro) */
    padding: 8px 18px;
    font-size: 0.9em;
    margin: 0;
}
.btn-limpiar { 
    background-color: var(--color-danger) !important;
    margin-left: 0 !important; /* Eliminamos el margen negativo */
}

/* Tabla del Historial */
table { 
    font-size: 1em; /* Un poco m√°s grande para mejor lectura */
    border-radius: 8px; 
    overflow: hidden; /* Para que el borde redondeado funcione */
    margin: 20px 30px; /* Aplicamos el margen al contenedor */
    width: calc(100% - 60px); /* Ajuste por el margen */
    box-shadow: var(--shadow-default);
    border-collapse: collapse;
}
th, td { 
    border: 1px solid #e9ecef; /* Bordes de tabla m√°s suaves */
    padding: 12px; 
    text-align: left;
}
th { 
    background-color: var(--color-primary);
    color: var(--color-text-light);
    font-weight: 600;
    text-transform: uppercase;
    font-size: 0.9em;
}
td {
    background-color: white;
}

/* Sumatorias */
#sumatoria-container {
    display: flex;
    gap: 20px;
    margin: 20px 30px;
    margin-top: 0;
}
.total-box { 
    padding: 15px;
    border-radius: 8px; 
    box-shadow: var(--shadow-default); 
    background-color: #e3f2fd; /* Azul m√°s claro */
    border: none;
    font-weight: bold;
    font-size: 1.2em;
    flex-grow: 1;
}
.total-box h4 {
    color: var(--color-secondary);
    margin: 0 0 10px 0;
    font-size: 1.1em;
    display: flex;
    align-items: center;
}
.total-box .icon {
    margin-right: 8px;
    font-size: 1.2em;
}
.total-box p {
    margin: 5px 0;
    font-weight: normal;
    font-size: 0.9em;
}


/* Bot√≥n Voucher */
.btn-voucher {
    background: none;
    border: none;
    color: #00bcd4; /* Mismo color que el bot√≥n de cobro */
    cursor: pointer;
    font-size: 1.4em; 
    padding: 0;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    transition: transform 0.1s;
}
.btn-voucher:hover {
    transform: scale(1.1);
    background: none;
}

/* NUEVO: Contenedor de la Placa y Hora de Cobro */
#detalle-cobro-activo p {
    margin: 8px 0;
    font-size: 1.1em;
}
#detalle-cobro-activo strong {
    color: var(--color-primary);
    font-weight: 700;
}
#info-cobro-container {
    padding: 15px;
    border: 1px dashed var(--color-border);
    border-radius: 6px;
    margin: 15px 0;
    background-color: #f8f9fa;
}